"use strict";var _createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){var o=function(e,t){return-1<(" "+e.className+" ").indexOf(" "+t+" ")};function l(e,t){if(!o(e,t)){var n="";""!=e.classList.value&&(n=" "),e.className+=n+t}}function t(e,t){o(e,t)&&e.classList.remove(t)}var s=function(e){return void 0!==e&&null!=e},e=function(){function o(){var t=this;_classCallCheck(this,o),this.prefix="",this.name=this.prefix+"modal",this.modals=document.querySelectorAll("."+this.name),this.openButtons=document.querySelectorAll('[data-action="'+this.name+'"]'),this.closeButtons=document.querySelectorAll('[data-close="'+this.name+'"]');for(var e=0;e<this.openButtons.length;e++)this.openButtons[e].addEventListener("click",function(e){t._showButtonClick(e)});for(var n=0;n<this.closeButtons.length;n++)this.closeButtons[n].addEventListener("click",function(e){t._closeButtonClick(e)});document.body.addEventListener("click",function(e){t._bodyClick(e)})}return _createClass(o,[{key:"modalClose",value:function(e){t(e,this.name+"_showing_in"),t(document.body,this.name+"-open")}},{key:"modalOpen",value:function(e){l(document.body,this.name+"-open"),l(e,this.name+"_showing_in")}},{key:"_showButtonClick",value:function(e){var t=e.target.dataset,n=t.open.replace("#","");if(s(document.getElementById(n))){var o=document.getElementById(n);if(this.modalOpen(o),null!=t.video&&s(o.getElementsByClassName("modal__video")[0])){this._removeIframe(o);var a=document.createElement("iframe");l(a,"modal__video-iframe");var i=t.video;a.setAttribute("src",i),a.setAttribute("allow","autoplay; encrypted-media"),a.setAttribute("allowfullscreen","allowfullscreen"),o.getElementsByClassName("modal__video")[0].appendChild(a)}}else console.error("No element with ID: "+n)}},{key:"_removeIframe",value:function(e){s(e.getElementsByClassName("modal__video")[0])&&(e.getElementsByClassName("modal__video")[0].innerHTML="")}},{key:"_closeButtonClick",value:function(e){var t=e.target.closest("."+this.name);this.modalClose(t),this._removeIframe(t)}},{key:"_getEventTarget",value:function(e){var t;return e.target?t=e.target:e.srcElement?t=e.srcElement:e.originalTarget&&(t=e.originalTarget),3==t.nodeType&&(t=t.parentNode),t}},{key:"_bodyClick",value:function(e){for(var t=this._getEventTarget(e),n=0;n<this.modals.length;n++){var o=this.modals[n];t==o&&(this.modalClose(o),this._removeIframe(o))}}}]),o}();document.addEventListener("DOMContentLoaded",function(){new e,/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(document.body.style.cursor="pointer")})}();